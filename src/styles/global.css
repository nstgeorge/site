@import "tailwindcss";

@tailwind base;
@tailwind components;
@tailwind utilities;

@custom-variant dark (&:where(.dark, .dark *));

@layer base {
  @font-face {
    font-family: "Amelie Fierce";
    font-style: normal;
    font-weight: 400;
    font-display: block;
    src:
      url(/fonts/amelie-fierce/AmelieFierce-Regular.woff2) format("woff2"),
      url(/fonts/amelie-fierce/AmelieFierce-Regular.woff) format("woff");
  }

  @font-face {
    font-family: "Inter";
    font-display: swap;
    src: url(public/fonts/inter/Inter-VariableFont_opsz,wght.ttf) format("ttf");
  }
}

html {
  font-variation-settings:
    "opsz" 500,
    "wght" 300;

  font-size: 20px;
  scroll-behavior: smooth;

  :target {
    scroll-margin-top: 100px;
  }

  b,
  strong,
  .font-bold {
    font-variation-settings:
      "opsz" 300,
      "wght" 500;
  }

  p+p {
    @apply mt-5;
  }

  h1 {
    @apply text-3xl lg:text-5xl mt-5;
    font-variation-settings:
      "opsz" 100,
      "wght" 400;
  }

  h2 {
    @apply text-2xl lg:text-4xl mt-4;
    font-variation-settings:
      "opsz" 300,
      "wght" 400;
  }

  h3 {
    @apply text-xl lg:text-2xl mt-3 text-stone-500 dark:text-stone-400;
    font-variation-settings:
      "opsz" 300,
      "wght" 400;
  }

  h4 {
    @apply mt-3 text-stone-500 dark:text-stone-400;
    font-variation-settings:
      "opsz" 300,
      "wght" 400;
  }

  p {
    a:not(.unstyled) {
      @apply inline-flex hover:opacity-70 hover:scale-[.98] active:scale-90 transition-all underline-offset-2 text-indigo-600 dark:text-indigo-400;

      &[href*="//"]:not([href*="natestgeorge.com"])::after {
        content: "";
        display: inline-block;
        width: 12px;
        height: 12px;
        margin: 0 4px 0 4px;
        --svg: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cg fill='%23000'%3E%3Cpath d='M1.5 1H6v1H2v12h12v-4h1v4.5l-.5.5h-13l-.5-.5v-13z'/%3E%3Cpath d='M15 1.5V8h-1V2.707L7.243 9.465l-.707-.708L13.293 2H8V1h6.5z'/%3E%3C/g%3E%3C/svg%3E");
        background-color: currentColor;
        -webkit-mask-image: var(--svg);
        mask-image: var(--svg);
        -webkit-mask-repeat: no-repeat;
        mask-repeat: no-repeat;
        -webkit-mask-size: 100% 100%;
        mask-size: 100% 100%;
      }
    }
  }

  .card-container {
    @apply flex flex-col md:flex-row items-center justify-center xl:gap-12 mb-12 pt-10;
  }

  .post-content {
    pre {
      @apply px-5 py-3 text-xs rounded my-5 shadow;
    }

    @media (prefers-color-scheme: dark) {

      .astro-code,
      .astro-code span {
        color: var(--shiki-dark) !important;
        background-color: var(--shiki-dark-bg) !important;
        /* Optional, if you also want font styles */
        font-style: var(--shiki-dark-font-style) !important;
        font-weight: var(--shiki-dark-font-weight) !important;
        text-decoration: var(--shiki-dark-text-decoration) !important;
      }
    }
  }

  .tag {
    @apply bg-stone-300 text-stone-500 dark:bg-stone-700 dark:text-stone-400 font-mono;
    @apply text-xxxs lg:text-xxs px-1 py-0.5 rounded hover:opacity-60 transition-opacity cursor-pointer;
  }
}